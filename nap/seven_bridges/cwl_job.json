{
  "class": "CommandLineTool",
  "cwlVersion": "v1.1",
  "$namespaces": {
    "sbg": "https://sevenbridges.com"
  },
  "baseCommand": [
    "NAP_LUNA_ARGS=\"@cfs_sigs.alias\"",
    "NAP_DEF_DIR=\"common\""
  ],
  "inputs": [
    {
      "id": "study_sigs_alias",
      "type": "File?"
    },
    {
      "loadListing": "deep_listing",
      "id": "input_dir",
      "type": "Directory",
      "inputBinding": {
        "shellQuote": false,
        "position": 2
      }
    },
    {
      "id": "input_conf",
      "type": "File",
      "inputBinding": {
        "shellQuote": false,
        "position": 3
      }
    },
    {
      "loadListing": "deep_listing",
      "id": "common_dir",
      "type": "Directory?"
    }
  ],
  "outputs": [
    {
      "id": "wrapper_output",
      "type": "File?",
      "outputBinding": {
        "glob": "*.txt"
      }
    },
    {
      "id": "nap_output_tar",
      "type": "File?",
      "outputBinding": {
        "glob": "*.tar.gz"
      }
    },
    {
      "id": "nap_output_dir",
      "type": "Directory?",
      "outputBinding": {
        "glob": "${     return \"*_output\" }",
        "loadListing": "deep_listing"
      }
    }
  ],
  "label": "nap",
  "arguments": [
    {
      "prefix": "",
      "shellQuote": false,
      "position": 0,
      "valueFrom": "/build/nap/nap.sh"
    },
    {
      "prefix": "",
      "shellQuote": false,
      "position": 1,
      "valueFrom": "CFS"
    },
    {
      "prefix": "",
      "shellQuote": false,
      "position": 4,
      "valueFrom": ">> nap_wrapper_log.txt 2>&1"
    }
  ],
  "requirements": [
    {
      "class": "ShellCommandRequirement"
    },
    {
      "class": "LoadListingRequirement"
    },
    {
      "class": "ResourceRequirement",
      "ramMin": 100,
      "coresMin": 1
    },
    {
      "class": "DockerRequirement",
      "dockerPull": "shyamlab/lunanap2:latest"
    },
    {
      "class": "InitialWorkDirRequirement",
      "listing": [
        {
          "entry": "${\n    return inputs.study_sigs_alias\n}",
          "writable": false
        },
        {
          "entry": "${\n    return inputs.common_dir \n}",
          "writable": false
        }
      ]
    },
    {
      "class": "InlineJavascriptRequirement"
    }
  ]
}
